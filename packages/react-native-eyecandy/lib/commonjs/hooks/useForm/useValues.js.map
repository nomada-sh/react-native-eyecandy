{"version":3,"sources":["useValues.ts"],"names":["useValues","fields","createValues","Object","entries","reduce","vals","name","field","initialValue","values","setValues","setValue","value","v","clearValues"],"mappings":";;;;;;;AAAA;;AAEA;;AAIe,SAASA,SAAT,CAAqCC,MAArC,EAAgD;AAC7D,QAAMC,YAAY,GAAG,wBAAY,MAAM;AACrC,WAAOC,MAAM,CAACC,OAAP,CAAeH,MAAf,EAAuBI,MAAvB,CAA8B,CAACC,IAAD,WAAyB;AAAA,UAAlB,CAACC,IAAD,EAAOC,KAAP,CAAkB;AAC5D,UAAIC,YAAY,GAAG,OAAOD,KAAP,KAAiB,QAAjB,GAA4BA,KAA5B,GAAoCA,KAAK,CAACC,YAA7D;AAEA,aAAO,EACL,GAAGH,IADE;AAEL,SAACC,IAAD,GAAQE,YAAY,IAAI;AAFnB,OAAP;AAID,KAPM,EAOJ,EAPI,CAAP;AAQD,GAToB,EASlB,CAACR,MAAD,CATkB,CAArB;AAWA,QAAM,CAACS,MAAD,EAASC,SAAT,IAAsB,qBAAST,YAAT,CAA5B;AAEA,QAAMU,QAAQ,GAAG,wBACf,CAACL,IAAD,EAAgBM,KAAhB,KAAkCF,SAAS,CAACG,CAAC,KAAK,EAAE,GAAGA,CAAL;AAAQ,KAACP,IAAD,GAAQM;AAAhB,GAAL,CAAF,CAD5B,EAEf,EAFe,CAAjB;AAKA,QAAME,WAAW,GAAG,wBAClB,MAAMJ,SAAS,CAACT,YAAD,CADG,EAElB,CAACA,YAAD,CAFkB,CAApB;AAKA,iCAAgB,MAAM;AACpBa,IAAAA,WAAW;AACZ,GAFD,EAEG,CAACA,WAAD,CAFH;AAIA,SAAO;AAAEL,IAAAA,MAAF;AAAUE,IAAAA,QAAV;AAAoBD,IAAAA,SAApB;AAA+BI,IAAAA;AAA/B,GAAP;AACD","sourcesContent":["import { useCallback, useState } from 'react';\n\nimport { useUpdateEffect } from 'react-use';\n\nimport type { Fields, Values, Name } from './types';\n\nexport default function useValues<T extends Fields>(fields: T) {\n  const createValues = useCallback(() => {\n    return Object.entries(fields).reduce((vals, [name, field]) => {\n      let initialValue = typeof field === 'string' ? field : field.initialValue;\n\n      return {\n        ...vals,\n        [name]: initialValue || '',\n      };\n    }, {} as Values<T>);\n  }, [fields]);\n\n  const [values, setValues] = useState(createValues);\n\n  const setValue = useCallback(\n    (name: Name<T>, value: string) => setValues(v => ({ ...v, [name]: value })),\n    [],\n  );\n\n  const clearValues = useCallback(\n    () => setValues(createValues),\n    [createValues],\n  );\n\n  useUpdateEffect(() => {\n    clearValues();\n  }, [clearValues]);\n\n  return { values, setValue, setValues, clearValues };\n}\n"]}